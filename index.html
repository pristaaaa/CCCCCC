<!DOCTYPE html>
<html lang="en">
<head>
    <title>Astro Cricket HD</title>
    <meta charset="UTF-8">
    <meta name="referrer" content="no-referrer">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body bgcolor="black" style="margin:0">
    <script> // script.js

// script.js

document.addEventListener('DOMContentLoaded', function () {
  const shakaPlayerContainer = document.createElement('div');
  shakaPlayerContainer.setAttribute('data-shaka-player-container', '');
  shakaPlayerContainer.style.width = '100%';
  shakaPlayerContainer.style.height = '100%';
  shakaPlayerContainer.style.cursor = 'none';
  shakaPlayerContainer.className = 'shaka-mobile shaka-video-container';
  shakaPlayerContainer.setAttribute('shaka-controls', 'true');

  const shakaVideo = document.createElement('video');
  shakaVideo.poster = 'https://linear-poster.astro.com.my/prod/poster/ivp_default_10000229_IVP_LAND_586x330.jpg';
  shakaVideo.autoplay = true;
  shakaVideo.setAttribute('data-shaka-player', '');
  shakaVideo.id = 'video';
  shakaVideo.style.width = '100%';
  shakaVideo.style.height = '100%';
  shakaVideo.className = 'shaka-video';

  shakaPlayerContainer.appendChild(shakaVideo);

  const centerElement = document.createElement('center');
  centerElement.appendChild(shakaPlayerContainer);

  document.body.appendChild(centerElement);

  // Continue with the rest of your script content...

  // Function to initialize Shaka Player
  

  // Continue with the rest of your script content...
});

      // Add the meta tag dynamically
const metaTag = document.createElement('meta');
metaTag.setAttribute('http-equiv', 'Content-Security-Policy');
metaTag.setAttribute('content', "frame-ancestors 'none';");
document.head.appendChild(metaTag);

// Add the Shaka Player UI script dynamically
const shakaUIScript = document.createElement('script');
shakaUIScript.src = "https://cdn.jsdelivr.net/npm/shaka-player/dist/shaka-player.ui.min.js";
document.head.appendChild(shakaUIScript);

// Add the user-select style
const userSelectStyle = document.createElement('style');
userSelectStyle.type = 'text/css';
userSelectStyle.textContent = '* {user-select: auto !important; -webkit-user-select: auto !important;}';
document.head.appendChild(userSelectStyle);

// Add the Shaka Player controls stylesheet dynamically
const shakaControlsStylesheet = document.createElement('link');
shakaControlsStylesheet.href = "https://cdn.jsdelivr.net/npm/shaka-player/dist/controls.min.css";
shakaControlsStylesheet.rel = "stylesheet";
document.head.appendChild(shakaControlsStylesheet);

// Continue with the rest of your script content

if (confirm("Join Our Telegram Channel For More Links")) { window.location.href = "https://t.me/+vi_UBdhOsN5jYzY1" }

const manifestUri = "https://linearjitp-playback.astro.com.my/dash-wv/linear/2504/default.mpd";

async function init() {
    const video = document.getElementById('video');
    const ui = video['ui'];
    const controls = ui.getControls();
    const player = controls.getPlayer();
    window.player = player;
    window.ui = ui;

    player.configure({
        drm: {
            "clearKeys": {
                '03c2e0af2f8159f9f0ce9b5dbc865f10': 'cd84ed136b0cc71f8ab8cd4d4f6a2e4c'
            }
        }
    });

    player.addEventListener('error', onPlayerErrorEvent);
    controls.addEventListener('error', onUIErrorEvent);

    try { await player.load(manifestUri); console.log('The video has now been loaded!'); }
    catch (error) { onPlayerError(error); }
}

function onPlayerErrorEvent(errorEvent) { onPlayerError(event.detail); }
function onPlayerError(error) { console.error('Error code', error.code, 'object', error); }
function onUIErrorEvent(errorEvent) { onPlayerError(event.detail); }
function initFailed(errorEvent) { console.error('Unable to load the UI library!'); }

document.addEventListener('shaka-ui-loaded', init);
document.addEventListener('shaka-ui-load-failed', initFailed);
                                    </script>
</body>
</html>
